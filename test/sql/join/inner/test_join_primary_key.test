# name: test/sql/join/inner/test_join_primary_key.test
# description: Test joins with primary keys
# group: [inner]

statement ok
create temporary table t as select range i, mod(range,10) j,mod(range,10)*10000000 k from range(1000);

# use correlated expression inside the filter itself
query I
   explain  SELECT
 (SELECT sum(t2.i) FILTER (WHERE t.i = t2.i) FROM t AS t2) sq
FROM t
WHERE i < 5 ORDER BY sq;
----
0
1
2
3
4



