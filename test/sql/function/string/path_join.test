# name: test/sql/function/string/path_join.test
# group: [string]

query I
SELECT regexp_replace(path_join('dir//subdir/', './file'), '\\\\', '/', 'g');
----
dir/subdir/file

query I
SELECT regexp_replace(path_join('dir/subdir', '../sibling'), '\\\\', '/', 'g');
----
dir/sibling

query I
SELECT regexp_replace(path_join('dir', '/abs/path'), '\\\\', '/', 'g');
----
/abs/path

query I
SELECT regexp_replace(path_join('dir///', 'nested///child'), '\\\\', '/', 'g');
----
dir/nested/child

query I
SELECT regexp_replace(path_join('dir', 'subdir', 'file.txt'), '\\\\', '/', 'g');
----
dir/subdir/file.txt

query I
SELECT regexp_replace(path_join('dir/..', '../..'), '\\\\', '/', 'g');
----
../..

query I
SELECT regexp_replace(path_join('/usr/local', '../..'), '\\\\', '/', 'g');
----
/

query I
SELECT regexp_replace(path_join('/', 'usr/local'), '\\\\', '/', 'g');
----
/usr/local

query I
SELECT path_join('file:/usr/local', '../bin');
----
file:/usr/local/../bin
