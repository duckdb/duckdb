# name: test/sql/function/string/path_join.test
# group: [string]

query I
SELECT replace(path_join('dir//subdir/', './file'), chr(92), '/');
----
dir/subdir/file

query I
SELECT replace(path_join('dir/subdir', '../sibling'), chr(92), '/');
----
dir/sibling

query I
SELECT replace(path_join('dir', '/abs/path'), chr(92), '/');
----
/abs/path

query I
SELECT replace(path_join('dir///', 'nested///child'), chr(92), '/');
----
dir/nested/child

query I
SELECT replace(path_join('dir', 'subdir', 'file.txt'), chr(92), '/');
----
dir/subdir/file.txt

query I
SELECT replace(path_join('dir/..', '../..'), chr(92), '/');
----
../..

query I
SELECT replace(path_join('/usr/local', '../..'), chr(92), '/');
----
/

query I
SELECT replace(path_join('/', 'usr/local'), chr(92), '/');
----
/usr/local

query I
SELECT path_join('file:/usr/local', '../bin');
----
file:/usr/local/../bin
