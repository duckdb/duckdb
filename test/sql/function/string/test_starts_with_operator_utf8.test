# name: test/sql/function/string/test_starts_with_operator_utf8.test
# description: ^@ starts_with operator test with UTF8
# group: [string]

statement ok
PRAGMA enable_verification

statement ok
CREATE TABLE strings(s VARCHAR);

statement ok
INSERT INTO strings VALUES ('Ã¡tomo')

statement ok
INSERT INTO strings VALUES ('olÃ¡ mundo')

statement ok
INSERT INTO strings VALUES ('ä½ å¥½ä¸–ç•Œ')

statement ok
INSERT INTO strings VALUES ('two Ã± three â‚¡ four ðŸ¦† end')

# Test one matching UTF8 letter
query T
SELECT s ^@ 'Ã¡' FROM strings
----
1
0
0
0

# Test a sentence with an UTF-8
query T
SELECT s ^@ 'olÃ¡ mundo' FROM strings
----
0
1
0
0

# Test an entire UTF-8 word
query T
SELECT s ^@ 'ä½ å¥½ä¸–ç•Œ' FROM strings
----
0
0
1
0

# Test a substring of the haystack from the beginning
query T
SELECT s ^@ 'two Ã± thr' FROM strings
----
0
0
0
1

# Test a single UTF8 substring of the haystack in the middle
query T
SELECT s ^@ 'Ã±' FROM strings
----
0
0
0
0

# Test a multiple UTF8 substring of the haystack in the middle
query T
SELECT s ^@ 'â‚¡ four ðŸ¦† e' FROM strings
----
0
0
0
0

