# name: test/sql/pragma/profiling/test_duckdb_profiling_settings_function.test
# description: Test duckdb_profiling_settings function
# group: [profiling]

query I
SELECT * EXCLUDE(value, description) FROM duckdb_profiling_settings();
----
custom_profiling_settings
enable_profiling
profiling_coverage
profiling_mode
profiling_output

statement ok
PRAGMA enable_profiling='json';

statement ok
PRAGMA profiling_output='__TEST_DIR__/test_profiling_output.json';

statement ok
PRAGMA profiling_coverage='ALL';

statement ok
PRAGMA profiling_mode='DETAILED';

statement ok
pragma custom_profiling_settings='{"CPU_TIME": "true"}';

query II
SELECT * EXCLUDE(description) FROM duckdb_profiling_settings();
----
custom_profiling_settings	{"CPU_TIME": "true"}
enable_profiling	json
profiling_coverage	ALL
profiling_mode	detailed
profiling_output	__TEST_DIR__/test_profiling_output.json
