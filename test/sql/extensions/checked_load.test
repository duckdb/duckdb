# name: test/sql/extensions/checked_load.test
# description: Test metadata checks on load
# group: [extensions]

statement error
LOAD 'README.md';
----
Permission Error: DuckDB extensions are files ending with '.duckdb_extension', loading different files is not possible, error while loading from 'README.md', consider 'INSTALL <path>; LOAD <name>;'

statement ok
SET allow_extensions_metadata_mismatch=true;

# This is the error thrown by dlopen
statement error
LOAD 'README.md';
----
Permission Error: DuckDB extensions are files ending with '.duckdb_extension', loading different files is not possible, error while loading from 'README.md', consider 'INSTALL <path>; LOAD <name>;'

statement error
LOAD '{DATA_DIR}/csv/no_opt.csv';
----
Permission Error: DuckDB extensions are files ending with '.duckdb_extension', loading different files is not possible, error while loading from

statement ok
SET allow_unsigned_extensions=false;

statement error
LOAD 'README.md';
----
Permission Error: DuckDB extensions are files ending with '.duckdb_extension', loading different files is not possible, error while loading from 'README.md', consider 'INSTALL <path>; LOAD <name>;'
