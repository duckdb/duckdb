# name: test/sql/storage/compression/chimp/chimp_read.test
# group: [chimp]

# we cannot read/open a file with a different block size
require block_size 262144

require vector_size 2048

load test/sql/storage/compression/chimp/chimp.db readonly

query I
select count(temperature) from temperatures_double;
----
245000

query I
select count(temperature) from temperatures_float;
----
245000

query I nosort res
select temperature from temperatures_double;
----

query I nosort res
select temperature from temperatures_float;
----

query I
SELECT compression FROM pragma_storage_info('temperatures_double') WHERE segment_type == 'double' AND compression != 'Chimp';
----

query I
SELECT compression FROM pragma_storage_info('temperatures_float') WHERE segment_type == 'float' AND compression != 'Chimp';
----

# Verify that the compression method is deprecated
statement error
pragma force_compression='chimp'
----
deprecated
