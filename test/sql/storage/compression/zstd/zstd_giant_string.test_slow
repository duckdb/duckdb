# name: test/sql/storage/compression/zstd/zstd_giant_string.test_slow
# group: [zstd]

require ram 16gb

statement ok
ATTACH '__TEST_DIR__/zstd_giant_string.db' (STORAGE_VERSION 'v1.3.2');

statement ok
CREATE TABLE zstd_giant_string.foo (bar VARCHAR USING COMPRESSION zstd);

statement ok
INSERT INTO zstd_giant_string.foo SELECT repeat('a', 10000000) FROM range(0, 500);

statement ok
DETACH zstd_giant_string

statement ok
ATTACH '__TEST_DIR__/zstd_giant_string.db'

query I
select max(length(bar)) from zstd_giant_string.foo;
----
10000000
