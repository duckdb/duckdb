# name: test/sql/settings/force_glob_ordering.test
# description: Test force_glob_ordering setting affects glob result ordering
# group: [settings]

statement ok
PRAGMA enable_verification

query I
SELECT current_setting('force_glob_ordering')
----
true

query I
SELECT parse_filename(file) FROM glob('data/csv/glob/a?/*.csv')
----
a1.csv
a2.csv
b1.csv


statement ok
SET force_glob_ordering = false

query I
SELECT count(*) FROM glob('data/csv/glob/a?/*.csv')
----
3

# Verify we still have all the expected files (using ORDER BY to make comparison deterministic)
query I
SELECT parse_filename(file) FROM glob('data/csv/glob/a?/*.csv') ORDER BY file
----
a1.csv
a2.csv
b1.csv
