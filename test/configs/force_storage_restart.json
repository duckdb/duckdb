{
  "description": "Run on persistent databases as storage and restart after each query.",
  "initial_db": "{TEST_DIR}/{BASE_TEST_NAME}__test__config__force_storage_restart.db",
  "force_restart": "true",
  "skip_compiled": "true",
  "inherit_skip_tests": "test/configs/force_storage.json",
  "skip_tests": [
    {
      "reason": "Contains explicit use of the memory catalog.",
      "paths": [
        "test/sql/attach/attach_use_rollback.test",
        "test/sql/function/list/lambdas/arrow/warn_deprecated_arrow.test",
        "test/sql/cte/warn_deprecated_union_in_using_key.test"
      ]
    },
    {
      "reason": "External file cache cannot persist across database restarts when force_restart is enabled.",
      "paths": [
        "test/sql/storage/external_file_cache/external_file_cache_validate.test",
        "test/sql/storage/external_file_cache/external_file_cache_parquet.test_slow"
      ]
    },
    {
      "reason": "Doesn't OOM when restarting",
      "paths": [
        "test/sql/storage/temp_directory/offloading_block_files.test_slow"
      ]
    },
    {
      "reason": "Logging setting doesn't survive restarts",
      "paths": [
        "test/sql/storage/compression/zstd/zstd_compression_ratio.test_slow",
        "test/sql/logging/physical_operator_logging.test_slow",
        "test/logging/warnings_as_errors.test"
      ]
    }
  ]
}
